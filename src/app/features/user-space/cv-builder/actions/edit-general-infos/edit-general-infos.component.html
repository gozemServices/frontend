@if(isEditVisible) {
  @if(isLoading) {
    <div
      class="absolute w-screen h-screen top-0 left-0 z-50 bg-gray-800 bg-opacity-50 flex justify-center items-center">
      <div class="w-16 h-16 border-4 border-t-4 border-gray-200 border-solid rounded-full animate-spin border-t-blue-500"></div>
    </div>
  }
  <div class="fixed inset-0 bg-black py-4 bg-opacity-50 flex items-center justify-center z-50 h-screen">
    <div class="flex bg-white flex-col p-4 overflow-y-auto rounded-lg max-h-[95vh] w-full max-w-[98vw] md:max-w-[80vw]">
      <div class="w-full rounded-0 px-10 py-8">
        <h2>{{'Edit General Information'}}</h2>
        <p class="mb-4">Provide your general information details</p>

        <form [formGroup]="generalInfoForm" (ngSubmit)="onSubmit()">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">

            <!-- Name -->
            <div>
              <label>Name</label>
              <input class="border p-2 w-full" type="text" formControlName="name" />
              @if (generalInfoForm.controls['name'].invalid && (generalInfoForm.controls['name'].touched || generalInfoForm.controls['name'].dirty)) {
                <div
                  class="text-red-500 text-sm"
                  >
                  @if (generalInfoForm.controls['name'].errors?.['required']) {
                    <div>Name is required.</div>
                  }
                  @if (generalInfoForm.controls['name'].errors?.['minlength']) {
                    <div>Name must be at least 2 characters long.</div>
                  }
                </div>
              }
            </div>

            <!-- Surname -->
            <div>
              <label>Surname</label>
              <input class="border p-2 w-full" type="text" formControlName="surname" />
              @if (generalInfoForm.controls['surname'].invalid && (generalInfoForm.controls['surname'].touched || generalInfoForm.controls['surname'].dirty)) {
                <div
                  class="text-red-500 text-sm"
                  >
                  @if (generalInfoForm.controls['surname'].errors?.['required']) {
                    <div>Surname is required.</div>
                  }
                  @if (generalInfoForm.controls['surname'].errors?.['minlength']) {
                    <div>Surname must be at least 2 characters long.</div>
                  }
                </div>
              }
            </div>

            <!-- Job Title -->
            <div>
              <label>Job Title</label>
              <input class="border p-2 w-full" type="text" formControlName="jobTitle" />
              @if (generalInfoForm.controls['jobTitle'].invalid && (generalInfoForm.controls['jobTitle'].touched || generalInfoForm.controls['jobTitle'].dirty)) {
                <div
                  class="text-red-500 text-sm"
                  >
                  @if (generalInfoForm.controls['jobTitle'].errors?.['required']) {
                    <div>Job title is required.</div>
                  }
                  @if (generalInfoForm.controls['jobTitle'].errors?.['minlength']) {
                    <div>Job title must be at least 3 characters long.</div>
                  }
                </div>
              }
            </div>

            <!-- Birthdate -->
            <div>
              <label>Birthdate</label>
              <input class="border p-2 w-full" type="date" formControlName="birthdate" />
              @if (generalInfoForm.controls['birthdate'].invalid && (generalInfoForm.controls['birthdate'].touched || generalInfoForm.controls['birthdate'].dirty)) {
                <div
                  class="text-red-500 text-sm"
                  >
                  @if (generalInfoForm.controls['birthdate'].errors?.['required']) {
                    <div>Birthdate is required.</div>
                  }
                </div>
              }
            </div>

            <!-- Phone -->
            <div>
              <label>Phone</label>
              <input class="border p-2 w-full" type="text" formControlName="phone" />
              @if (generalInfoForm.controls['phone'].invalid && (generalInfoForm.controls['phone'].touched || generalInfoForm.controls['phone'].dirty)) {
                <div
                  class="text-red-500 text-sm"
                  >
                  @if (generalInfoForm.controls['phone'].errors?.['required']) {
                    <div>Phone is required.</div>
                  }
                  @if (generalInfoForm.controls['phone'].errors?.['pattern']) {
                    <div>Phone must be a valid number.</div>
                  }
                </div>
              }
            </div>

            <!-- Description -->
            <div class="col-span-2">
              <label>Description</label>
              <textarea class="border p-2 w-full" formControlName="description"></textarea>
              @if (generalInfoForm.controls['description'].invalid && (generalInfoForm.controls['description'].touched || generalInfoForm.controls['description'].dirty)) {
                <div
                  class="text-red-500 text-sm"
                  >
                  @if (generalInfoForm.controls['description'].errors?.['maxlength']) {
                    <div>Description can be a maximum of 500 characters long.</div>
                  }
                </div>
              }
            </div>
          </div>

          <div class="flex justify-end mt-6">
            <button type="button" class="bg-gray-200 px-4 py-2 mr-2 rounded" (click)="onCancel()">Cancel</button>
            <button
              type="submit"
              class="bg-red-500 text-white px-4 py-2 rounded"

              >
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
}
